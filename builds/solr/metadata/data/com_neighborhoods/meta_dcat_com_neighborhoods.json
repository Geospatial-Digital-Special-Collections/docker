{
  "dct:title": "City of Miami Neighborhoods",
  "dct:creator": ["City of Miami GIS"],
  "dct:identifier": "https://datahub-miamigis.opendata.arcgis.com/datasets/2f54a0cbd67046f2bd100fb735176e6c/explore",
  "dct:publisher": ["City of Miami GIS"],
  "dct:rights": "Public Domain",
  "dct:coverage": ["City of Miami", "Miami-Dade County"],
  "dct:type": "Vector Dataset",
  "dct:issued": "2021-01-11T00:00:00Z",
  "dct:description": "City of Miami Neighborhoods Shapefile",
  "prov:qualifiedAttribution": "Direct from source.",
  "dcat:keyword": ["City of Miami", "Neighborhoods"],
  "dct:language": "en",
  "adms:representationTechnique": "vector",
  "locn:geometry": "multipolygon",
  "dct:conformsTo": "EPSG:4326",
  "prov:action": "#########\n# GDSC ETL is performed in two steps: shell script to ETL data into postgres\n# and then additional transformations with SQL in postGIS (if needed).\n####\n\n#########\n# Step 1 - bash script (pseudo code)\n####\n\n# create directory structure and move into it\nmkdir -p /data/com_neighborhoods/{download,etl} && cd /data/com_neighborhoods\n\n# set update flag based on last update and update frequency\ndo_update=0 if date() < last_update + update_frequency else do_update = 1\n\n# download if update flag is set:\nif do_update == 1 then\n  wget -O download/com_neighborhoods.json 'https://opendata.arcgis.com/api/v3/datasets/2f54a0cbd67046f2bd100fb735176e6c_0/downloads/data?format=geojson&spatialRefId=4326&where=1%3D1'\n\n# replace column names Shape__Length and Shape__Area to avoid conflict when\n# providing as service on ArcServer.\nsed -i 's/Shape__Length/shape_length/gI; s/Shape__Area/shape_area/gI' download/com_neighborhoods.json\n\n# load into postGIS with:\n  ogr2ogr -lco GEOMETRY_NAME=geom -f PostgreSQL PG:\"<postgres connection>\" download/com_neighborhoods.json -nlt multipolygon -nln com_neighborhoods\n\n#########\n# Step 2 - SQL script (pseudo code):\n####\n\n# remove duplicate points and make geometries valid:\nUPDATE com_neighborhoods\n  SET geom=ST_MakeValid(ST_RemoveRepeatedPoints(geom));\"\n\n# add local geometry column and reproject existing geometries into local EPSG:\nSELECT AddGeometryColumn (\n  'com_neighborhoods',\n  'geom_local',2236,'multipolygon',2\n);\nUPDATE com_neighborhoods\n  SET geom_local=ST_MakeValid(ST_RemoveRepeatedPoints(ST_Transform(ST_Multi(geom),2236)));\nCREATE INDEX com_neighborhoods_geom_local_idx\n  ON com_neighborhoods\n  USING GIST (geom_local);\nNOTIFY pgrst, 'reload schema';\"",
  "prov:wasGeneratedBy": "GDSC automation (see Process Step)",
  "dcat:contactPoint": ["Timothy Norris", "Librarian Associate Professor", "University of Miami Libraries, Frost Institute for Data Science and Computing", "txn60@miami.edu"],
  "gdsc:label": "label",
  "gdsc:attributes": ["label;Name of neighborhood;City of Miami;string;"],
  "gdsc:collections": ["CAMP", "MAP"],
  "gdsc:functions": ["gdsc_get_attributes"],
  "gdsc:analyticConformsTo": "EPSG:2236",
  "gdsc:sponsor": ["IDSC;https://idsc.miami.edu", "Library;https://www.library.miami.edu"],
  "dcat:downloadURL": "https://opendata.arcgis.com/api/v3/datasets/2f54a0cbd67046f2bd100fb735176e6c_0/downloads/data?format=geojson&spatialRefId=4326&where=1%3D1",
  "gdsc:tablename": "com_neighborhoods",
  "gdsc:up": "true",
  "gdsc:podID": "postgis-90zi29yo2f6dr8g0",
  "dct:modified": "2024-10-22 11:15:15",
  "dct:accrualPeriodicity": "As Needed",
  "spdx:checksum": "TBD",
  "dct:extent": ["305852", "299K"],
  "dcat:bbox": "POLYGON((-80.3197168411198 25.7089774156468,-80.3197168411198 25.8557762799325,-80.1407395562956 25.8557762799325,-80.1407395562956 25.7089774156468,-80.3197168411198 25.7089774156468))"
}
