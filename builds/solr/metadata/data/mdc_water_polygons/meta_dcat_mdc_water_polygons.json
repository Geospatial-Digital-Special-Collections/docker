{
  "dct:title": "Miami-Dade Bodies of Water",
  "dct:creator": ["Miami-Dade County"],
  "dct:identifier": "https://gis-mdc.opendata.arcgis.com/datasets/MDC::water-p/about",
  "dct:publisher": ["Miami-Dade County"],
  "dct:rights": "Public Domain",
  "dct:license": "Miami-Dade County provides this data for use \"as is\". The areas depicted by this map/data are approximate, and are not accurate to surveying or engineering standards. The maps/data shown here are for illustration purposes only and are not suitable for site-specific decision making. Information found here should not be used for making financial or any other commitments. Miami-Dade County provides this information with the understanding that it is not guaranteed to be accurate, correct or complete and conclusions drawn from such information are the sole responsibility of the user. While every effort has been made to ensure the accuracy, correctness and timeliness of materials presented, Miami-Dade County assumes no responsibility for errors or omissions, even if Miami-Dade County is advised of the possibility of such damage.",
  "dct:coverage": ["Miami-Dade County"],
  "dct:type": "Vector Dataset",
  "dct:issued": "2020-11-24T00:00:00Z",
  "dct:description": "This feature class has been created to illustrate the water bodies within the Urban Development Boundary (UDB) and outside the UDB, approximately 938 square miles.\n\nA collection of vector polygon features for water bodies within the Urban Development Boundary (UDB) and outside the UDB, approximately 938 square miles. The planimetric layer for Miami-Dade County was previously digitized in 2001 by Woolpert, in 2012 by GPI Geospatial (GPI), and in 2020 by GPI. GPIs 2022 update utilized a Geodatabase provided by ITD for Miami-Dade County containing two layers to be updated: Water and Edge of Pavement. GPI used the recent set of county orthoimages, produced by Woolpert in 2022, to perform the update of the various feature classes. The feature classes were clipped into smaller blocks. Compilers made adjustments or recollected any missing features. The corresponding attributes were assigned to each separate shapefile as adjustments and new collection occurred. The shapefiles were then merged back together into a full file. Topological checks were performed to make sure the linework did not cross unexpectedly, ends dangled, or strange gaps exist in the collected features. Depending on the layer, different checks were done using the existing data layer to evaluate the completeness of the overall collection. The final layers were quality checked for formatting and file corruption before being sent to the client for review. Personnel that collected this data are either photogrammetrists trained in stereo collection or editors trained in ortho-photography based collection. Items included in the feature class WATER BODIES (Polygons) are: Water bodies and water-under-the-bridge features Definition of particular fields in the Water feature class: Water = {0,1} where 0 = Feature does not represent water; 1 = Water feature. Type = {'', 'B'} where B = Water under the bridge. Where '' marks water locations without bridges. Possible combinations of these fields are: 0,''; 1,'';1, 'B'.",
  "prov:qualifiedAttribution": "direct from source",
  "dcat:keyword": ["Florida", "Miami-Dade County", "MDC", "Environment"],
  "dct:language": "en",
  "adms:representationTechnique": "vector",
  "locn:geometry": "multipolygon",
  "dct:conformsTo": "EPSG:4326",
  "dcat:bbox": "POLYGON((-80.925684894027 25.1309648040208,-80.925684894027 25.9838015308925,-80.0876866707578 25.9838015308925,-80.0876866707578 25.1309648040208,-80.925684894027 25.1309648040208))",
  "prov:action": "#########\n# GDSC ETL is performed in two steps: shell script to ETL data into postgres\n# and then additional transformations with SQL in postGIS (if needed).\n####\n\n#########\n# Step 1 - bash script (pseudo code)\n####\n\n# create directory structure and move into it\nmkdir -p /data/mdc_water_polygons/{download,etl} && cd /data/mdc_water_polygons\n\n# set update flag based on last update and update frequency\ndo_update=0 if date() < last_update + update_frequency else do_update = 1\n\n# download if update flag is set:\nif do_update == 1 then\n  ogr2ogr -nln mdc_water_polygons download/mdc_water_polygons.geojson \"https://services.arcgis.com/8Pc9XBTAsYuxx9Ny/arcgis/rest/services/WaterP_gdb/FeatureServer/0/query?outFields=*&where=1%3D1&outSR=4326&f=geojson\"\n\n# replace column names Shape__Length and Shape__Area to avoid conflict when\n# providing as service on ArcServer.\nsed -i 's/Shape__Length/shape_length/gI; s/Shape__Area/shape_area/gI' download/mdc_water_polygons.geojson\n\n# load into postGIS with:\n  ogr2ogr -lco GEOMETRY_NAME=geom -f PostgreSQL PG:\"<postgres connection>\" download/mdc_water_polygons.geojson -nlt multipolygon -nln mdc_water_polygons\n\n#########\n# Step 2 - SQL script (pseudo code):\n####\n\n# remove duplicate points and make geometries valid:\nUPDATE mdc_water_polygons\n  SET geom=ST_MakeValid(ST_RemoveRepeatedPoints(geom));\"\n\n# add local geometry column and reproject existing geometries into local EPSG:\nSELECT AddGeometryColumn (\n  'mdc_water_polygons',\n  'geom_local',2236,'multipolygon',2\n);\nUPDATE mdc_water_polygons\n  SET geom_local=ST_MakeValid(ST_RemoveRepeatedPoints(ST_Transform(ST_Multi(geom),2236)));\nCREATE INDEX mdc_water_polygons_geom_local_idx\n  ON mdc_water_polygons\n  USING GIST (geom_local);\nNOTIFY pgrst, 'reload schema';\"",
  "prov:wasGeneratedBy": "GDSC automation (see Process Step)",
  "dcat:contactPoint": ["Timothy Norris", "Librarian Associate Professor", "University of Miami Libraries, Frost Institute for Data Science and Computing", "txn60@miami.edu"],
  "gdsc:label": "objectid",
  "gdsc:attributes": ["objectid;Internal feature number;Esri;oid;", "water;Water = 0 for no water and 1 for water present;MDC;small integer;", "type;Type =\"\" for open water and 'B' for locations that water flows under structure  and is blocked from the orthos view;MDC;string;", "last_updated;Year date that feature was last revised;MDC;small integer;", "shape_area;area of feature;Esri;double;", "shape_length;length of feature;Esri;double;"],
  "gdsc:collections": ["Miami-Dade Climate Resilience"],
  "gdsc:functions": ["gdsc_nearest_neighbor"],
  "gdsc:analyticConformsTo": "EPSG:2236",
  "gdsc:sponsor": ["IDSC;https://idsc.miami.edu", "Library;https://www.library.miami.edu"],
  "dcat:downloadURL": "https://services.arcgis.com/8Pc9XBTAsYuxx9Ny/arcgis/rest/services/WaterP_gdb/FeatureServer/0/query?outFields=*&where=1%3D1&outSR=4326&f=geojson",
  "gdsc:tablename": "mdc_water_polygons",
  "gdsc:up": "true",
  "gdsc:podID": "postgis-unqeqjtqeg4bwgre",
  "dct:modified": "2024-10-03 15:55:07",
  "dct:accrualPeriodicity": "As Needed",
  "spdx:checksum": "TBD",
  "dct:extent": ["38491519", "37M"]
}
